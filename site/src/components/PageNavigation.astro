---
import { getNavigation } from '../data/pageOrder';
import type { Lang } from '../i18n/ui';
import { useTranslations, getLocalePath } from '../i18n/utils';

interface Props {
  currentPath: string;
  lang?: Lang;
}

const { currentPath, lang = 'ko' } = Astro.props;
const t = useTranslations(lang);
const { prev, next } = getNavigation(currentPath, lang);
const lp = (path: string) => getLocalePath(lang, path);
---

<nav class="flex items-center justify-between pt-8 border-t border-border" aria-label={t('pageNav.label')}>
  {prev ? (
    <a
      href={lp(prev.path)}
      class="group flex items-center gap-3 px-4 py-2 rounded-lg border border-border hover:bg-surface transition-colors no-underline"
    >
      <svg class="w-5 h-5 text-text-secondary group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
      <div class="text-left">
        <span class="text-xs text-text-secondary">{t('pageNav.prev')}</span>
        <span class="block text-sm text-white font-medium">{prev.title}</span>
      </div>
    </a>
  ) : (
    <div />
  )}

  {next ? (
    <a
      href={lp(next.path)}
      class="group flex items-center gap-3 px-4 py-2 rounded-lg bg-primary hover:bg-primary-hover text-background transition-colors no-underline"
    >
      <div class="text-right">
        <span class="text-xs opacity-70">{t('pageNav.next')}</span>
        <span class="block text-sm font-bold">{next.title}</span>
      </div>
      <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </a>
  ) : (
    <div />
  )}
</nav>
